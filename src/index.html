<html>

<head>
    <title>Tax-Efficient Fund Placement Calculator</title>
</head>

<body>
    <p>Since your portfolio may be split between multiple locations (one or more tax-advantaged retirement accounts,
        and one or more taxable accounts) you should look at Principles of tax-efficient fund placement to determine
        which funds belong in each account. In general, the international fund should go into a taxable account, the
        bond fund should go into a tax-advantaged account, and the domestic equity fund should fill in the remaining
        space.</p>
    <form id="form">
        <div>
            <label>Amount of funds in tax shelter (IRA, 401K)</label>
            <input type="number" name="taxFreeFunds" value="200000" required />
        </div>
        <div>
            <label>Amount of funds in taxable account</label>
            <input type="number" name="taxableFunds" value="50000" required />
        </div>
        <div>
            <label>Domestic Stock %</label>
            <input type="number" name="domesticStockPercent" value="75" required />
        </div>
        <div>
            <label>International Stock %</label>
            <input type="number" name="internationalStockPercent" value="15" required />
        </div>
        <div>
            <label>Bond %</label>
            <input type="number" name="bondPercent" value="10" required />
        </div>
        <button type="submit">Compute</button>
    </form>
</body>

<script>

    document.getElementById('form').onsubmit = function (e) {
        try{
            calculate();
        }catch(e){
            alert(e);
        }
        return false;
    };

    function calculate() {

        let formViewModel = new FormViewModel();

        let taxFreeAccount = new Account(formViewModel.taxFreeFunds);
        let taxableAccount = new Account(formViewModel.taxableFunds);
        let totalFunds = formViewModel.taxFreeFunds + formViewModel.taxableFunds;

        let domesticStockAsset = new Asset(totalFunds * (100 - formViewModel.domesticStockPercent));
        let internationalStockAsset = new Asset(totalFunds * (100 - formViewModel.internationalStockPercent));
        let bondAsset = new Asset(totalFunds * (100 - formViewModel.bondPercent));
    }

    class FormViewModel {

        get taxFreeFunds() {
            return parseInt(document.getElementsByName("taxFreeFunds")[0].value);
        }

        get taxableFunds() {
            return parseInt(document.getElementsByName("taxableFunds")[0].value);
        }

        get domesticStockPercent() {
            return parseInt(document.getElementsByName("domesticStockPercent")[0].value);
        }

        get internationalStockPercent() {
            return parseInt(document.getElementsByName("internationalStockPercent")[0].value);
        }

        get bondPercent() {
            return parseInt(document.getElementsByName("bondPercent")[0].value);
        }
    }

    class Account {

        constructor(limit) {
            this.assets = [];
            this.limit = limit;
        }

        addFunds(asset) {
            throw 'not implemented';
        }
    }

    class Asset {
        constructor(value) {
            this.value = value;
        }
    }

    class DomesticStockAsset extends Asset {

    }

    class InternationalStockAsset extends Asset {

    }

    class BondAsset extends Asset {

    }



</script>

</html>